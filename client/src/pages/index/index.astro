---
import { getAllCampaigns, getAllTypes } from "../../api";
import EntryList from "../../components/EntryList.astro";
import FilterList from "../../components/FilterList.astro";
import Layout from "../../layouts/Layout.astro";

const campaigns = await getAllCampaigns();
const types = await getAllTypes();
---

<script is:inline async src="https://platform.twitter.com/widgets.js"></script>
<Layout>
  <main>
    <aside>
      <h2>Filters</h2>
      <details open>
        <summary>view filters</summary>
        <FilterList />
      </details>
    </aside>
    <section>
      <EntryList />
    </section>
  </main>
</Layout>

<style>
  @media (width >= 40rem) {
    main {
      display: grid;
      grid-template-columns: 2fr 1fr;
    }

    section {
      grid-column: 1;
      grid-row: 1;
    }

    aside {
      grid-column: 2;
      grid-row: 1;

      border-left: 1px solid var(--black);
      padding-left: 1rem;
    }
  }
</style>
